{% extends '_layouts/in_app.html.twig' %}

{% block title %}Hello Tweets/ListController!{% endblock %}

{% block content %}
    {{ form_start(form) }}
    <div class="form-group">
        {{ form_widget(form.message, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.message) }}
    </div>
    <div class="actions" style="margin-top: 20px">
        <button type="submit">Cr√©er</button>
    </div>
    {{ form_end(form) }}


    <h1>Thread</h1>

    {% for tweet in tweets %}
        <p>
            {{ tweet.authorName }}
            {{ tweet.message }}
            {{ tweet.createdDate | ago(locale='fr') }}
            {{ tweet.totalLikes }} likes
            <a href="{{ path('tweets_show', {'uid': tweet.uid}) }}">
                DETAIL
            </a>
        </p>
    {% endfor %}

    <div>
        {% for i in 1..maxPaginationPage %}
        <a class="pagination-link {% if page == i %}active{% endif %}"
           href="{{ path("tweets_list") }}?page={{ i }}&limit={{ limit }}">
            {{ i }}
        </a>
        {% endfor %}
    </div>

    <h1>Tendances</h1>

    {% for tweet in top5Tweets %}
        <p>
            {{ tweet.authorName }}
            {{ tweet.message }}
            {{ tweet.createdDate | ago(locale='fr') }}
            {{ tweet.totalLikes }} likes
            <a href="{{ path('tweets_show', {'uid': tweet.uid}) }}">
                DETAIL
            </a>
        </p>
    {% endfor %}
{% endblock %}
